extension:
  name: httpserver
  description: DuckDB HTTP API Server Extension
  version: 0.1.2
  language: SQL & C++
  build: cmake
  license: MIT
  excluded_platforms: "wasm_mvp;wasm_eh;wasm_threads"
  maintainers:
    - lmangani
    - akvlad

repo:
  github: lmangani/duckdb-extension-httpserver
  ref: ec47a4c61904efd3a1a2885343874aa16dc359a4

docs:
  hello_world: |
    -- Start a DuckDB HTTP API Server with parameters
    D SELECT httpserve_start('0.0.0.0', 9999, 'user:pass');
    ┌───────────────────────────────────────────────┐
    │ httpserve_start('0.0.0.0', 9999, 'user:pass') │
    │                    varchar                    │
    ├───────────────────────────────────────────────┤
    │ HTTP server started on 0.0.0.0:9999           │
    └───────────────────────────────────────────────┘

    -- Browse to your DuckDB HTTP API endpoint to Query using the embedded interface

    -- Query your DuckDB HTTP API Server using curl or any other client w/ HTTP Basic Auth
    curl -X POST -d "LOAD chsql; SELECT *, uuid() FROM numbers(10)" "http://user:pass@localhost:9999/"

    -- Query your DuckDB HTTP API Server using curl or any other client w/ X-API-Key header 
    curl -X POST --header "X-API-Key: secretkey" -d "LOAD chsql; SELECT *, uuid() FROM numbers(10)" "http://localhost:9999/"

  extended_description: |
    This extension is experimental and potentially unstable. Do not use it in production.
